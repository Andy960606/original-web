<!DOCTYPE html>
<html>
<head>
    <title>OpenAI API Demo</title>
</head>
<body>
    <h1>OpenAI API Demo</h1>
    
    <p>输入：</p>
    <textarea id="input"></textarea>
    <button id="submitBtn">确认输入</button>
    
    <p>输出：</p>
    <textarea id="output" readonly></textarea>
    
    <script src="https://cdn.jsdelivr.net/npm/@openai/api@1.0.0/dist/index.js"></script>
    <script src="main.js"></script>
    
    <script>
        // 获取元素
        const inputElement = document.getElementById("input");
        const submitBtn = document.getElementById("submitBtn");
        
        // 点击确认按钮时发送请求
        submitBtn.addEventListener("click", async function(event) {
            // 获取输入文本
            const inputText = inputElement.value;
            
            try {
                // 同步OpenAI API
                const response = await openai.complete({
                    engine: "davinci",
                    prompt: inputText,
                    maxTokens: 2048,
                    temperature: 0.5
                });
                
                // 显示输出文本
                outputElement.value = response.data.choices[0].text;
            } catch(error) {
                // 显示错误消息
                outputElement.value = "Error: " + error.message;
            }
        });
    </script>
</body>
</html>
